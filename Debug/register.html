<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>식자재 재고 관리 시스템</title>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link href="http://bootstrapk.com/examples/dashboard/dashboard.css" rel="stylesheet">
    <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyCIXED8PpmkY6Mq_9jLxeU6Ga0qz3y4uHQ&sensor=false&amp;libraries=places" type="text/javascript"></script>
    
    <script type="text/javascript">
      google.maps.event.addDomListener(window, 'load', initAutocomplete);
      var autocomplete;
      function initAutocomplete() {
          // Create the autocomplete object, restricting the search to geographical
          var options = {
              //검색 범위 제한
              componentRestrictions: {country: "kr"}
          };
          autocomplete = new google.maps.places.Autocomplete(
              (document.getElementById('address')),options);
          // When the user selects an address from the dropdown, populate the address
          // fields in the form.

      }
    </script>
    <script language="JavaScript">

        var winObject = null;
        function popupWindow(){
            var data = document.querySelector('#uid').value;
            var settings = 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, width=550, height=500';
            winObject = window.open('/test?check=0&rlt=""&val='+data+'', "test", settings);
            winObject.document.getElementById('iuid').value = document.getElementById('uid').value;
            win.document.write('<iframe width="100%" height="100%" src="/test.html" frameborder="0" allowfullscreen></iframe>')
        }
    </script>
    <style>table{border-collapse: collapse;width: 43%;} th, td {text-align: center;padding: 8px;}tr:nth-child(even){background-color: #f2f2f2}tr:nth-child(odd){background-color: #f2f2f2}</style>
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
              <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                  <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
            <a class="navbar-brand" href="/"> 식자재 재고관리</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">

            <li><a href="/">Login</a></li>
          </ul>
        </div>
    </div>
  </nav>
  <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        
        <h2 class="sub-header">회원가입</h2>
        <div class="table-responsive">              
                <form  action='/agree' name="f1" method="post" onsubmit="return checkIt();">      
                    <table style="position: absolute; left:13%;">
                            <tr>
                                <td>회원ID</td>
                                <td><input type="text" class="form-control" name="uid" id="uid" style = "font-size:16px;padding:5px;width:70%; " required></td>
                                <input type="hidden" name="check" id="check"></td>
                                <input type="text" style="font-size:16px;padding:5px;border:0;color:green;position: absolute; right:28.3%; top:92.3%" name="rlt" id="rlt">
                                <td><br><br></td>
                            </tr>
                            <tr>
                                <td>비밀번호</td>
                                <td><input type="password"class="form-control" name="upwd1" id="upwd1"  style = "font-size:16px;padding:5px;width:70%;" required></td>
                                <td><br><br></td>
                            </tr>
                            <tr>
                                <td>비밀번호확인</td>
                                <td><input type="password"class="form-control" name="upwd2" id="upwd2" style = "font-size:16px;padding:5px;width:70%;" required></td>
                                <td><br><br></td>
                            </tr>
                            <tr>
                                <td>식당 이름</td>
                                <td><input type="text"class="form-control" name="uname" id="uname" style = "font-size:16px;padding:5px;width:70%;" required></td>
                                <td><br><br></td>
                            </tr>
                            <tr>
                                <td>주소</td>
                                <td><input class="form-control" type="text" name="address" id="address" placeholder="ex)대한민국 경기도 수원시 영통구 망포동" autocomplete="on" style = "font-size:16px;padding:5px" required></td>
                                <td><br><br></td>
                            </tr>
                            <tr>
                                <td>전화번호</td>
                                <td><input type="text" class="form-control" name="uphone" id="uphone" style = "font-size:16px;padding:5px;width:70%;" required></td>
                                <td><br><br></td>
                            </tr>
                        </table>
                        
                        <input type="button" class="btn btn-lg btn-primary btn-block" value="중복검사" style = "font-size:16px;padding:6px;width:6%;position: absolute; right:46.3%; top:92.3%;" onclick="popupWindow();return false;">
                        <center><button class="btn btn-lg btn-primary btn-block" type="submit"  style = "position: absolute; right:55%; top:379%;height:35%;width:18%;">가입신청</button></center>
                        </form>
                        <script>
                        function checkIt(){
                            var check=null;
                            if (document.f1.check.value!=1){
                                alert("아이디 인증을 하지 않았습니다.");
                                document.getElementById('uid').focus();
                                return false;
                                }
                            if (document.f1.upwd1.value!=document.f1.upwd2.value){
                                alert("비밀번호가 일치하지 않습니다.");
                                document.getElementById('upwd2').focus();
                                return false;
                                }
                            if (!(body.address.match(/수원/))){///수원 어떻게 추리는지 
                                alert("현재 수원지역만 지원가능합니다.");
                                document.getElementById('address').focus();
                                return false;
                                }
                            alert("회원가입이 완료되었습니다. ")
                            return true;
                        }
                    </script>
        </div>
      </div>
</body>
</html>